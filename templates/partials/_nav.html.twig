<header>
    <nav class="border-gray-200 p-1 bg-cyan-900">
        <div class="container mx-auto flex flex-wrap items-center justify-between">
            <a href="{{ path('default') }}" class="flex">
                <div class="flex place-items-center">
                    <img src="{{ asset('images/logo_image.png') }}" class="flex-row md:h-10 md:mx-1 hidden md:block rounded-full" alt="Logo New O'Rizon">
                </div>
                <span class="self-center text-xl md:text-3xl font-semibold whitespace-nowrap text-white ml-3">New O'Rizon</span>
            </a>
        
            <button data-collapse-toggle="mobile-menu" type="button" class="md:hidden ml-3 text-gray-400 hover:text-gray-900 focus:outline-none rounded-lg inline-flex items-center justify-center" aria-controls="mobile-menu-2" aria-expanded="false">
                <span class="sr-only">Ouverture menu principal</span>
                <svg class="w-10 h-10" fill="white" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd">
                    </path>
                </svg>
            </button>

            <div class="hidden md:block w-full md:w-auto" id="mobile-menu">
                <ul class="flex-col md:flex-row flex md:space-x-1 lg:space-x-6 mt-4 md:mt-0 md:text-sm md:font-medium">

                {% if isBackOffice %}
                <div class="flex self-center gap-3">
                    <li>
                        <a class="hidden md:block self-center lg:text-base font-medium whitespace-nowrap text-white ml-auto rounded-md p-1 hover:bg-cyan-600 focus:ring-4 focus:ring-sky-300" href="{{ path('app_back_default') }}">Menu</a>
                    </li>
                    <li>
                        <a class="hidden md:block self-center lg:text-base font-medium whitespace-nowrap text-white ml-auto rounded-md p-1 hover:bg-cyan-600 focus:ring-4 focus:ring-sky-300" href="{{ path('app_back_city_index') }}">Villes</a>
                    </li>
                    <li>
                        <a class="hidden md:block self-center lg:text-base font-medium whitespace-nowrap text-white ml-auto rounded-md p-1 hover:bg-cyan-600 focus:ring-4 focus:ring-sky-300" href="{{ path('app_back_country_index') }}">Pays</a>
                    </li>
                    <li>
                        <a class="hidden md:block self-center lg:text-base font-medium whitespace-nowrap text-white ml-auto rounded-md p-1 hover:bg-cyan-600 focus:ring-4 focus:ring-sky-300" href="{{ path('app_back_image_index') }}">Images</a>
                    </li>
                    <li>
                        <a class="hidden md:block self-center lg:text-base font-medium whitespace-nowrap text-white ml-auto rounded-md p-1 hover:bg-cyan-600 focus:ring-4 focus:ring-sky-300" href="{{ path('app_back_review_index') }}">Commentaires</a>
                    </li>
                    <li>
                        <a class="hidden md:block self-center lg:text-base font-medium whitespace-nowrap text-white ml-auto rounded-md p-1 hover:bg-sky-600 focus:ring-4 focus:ring-sky-300" href="{{ path('app_back_user_index') }}">Utilisateurs</a>
                    </li>
                </div>
                    
                    <li>
                        <a href="{{ path('app_back_default') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Menu</a>
                    </li>
                    <li>
                        <a href="{{ path('app_back_city_index') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Villes</a>
                    </li>
                    <li>
                        <a href="{{ path('app_back_country_index') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Pays</a>
                    </li>
                    <li>
                        <a href="{{ path('app_back_image_index') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Images</a>
                    </li>
                    <li>
                        <a href="{{ path('app_back_review_index') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Commentaires</a>
                    </li>
                    <li>
                        <a href="{{ path('app_back_user_index') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Utilisateurs</a>
                    </li>
                    <li>
                        <!-- Dropdown menu -->
                        <li class="text-white hover:border-4 md:hover:border-0 md:border-0 border-b border-gray-100 md:hover:bg-transparent block md:hover:text-white md:p-0 md:rounded-md md:hover:bg-cyan-600 md:focus:ring-4 md:focus:ring-sky-300">
                            <button id="dropdownNavbarLink" data-dropdown-toggle="dropdownNavbar" class="md:hover:bg-transparent md:border-0 pl-3 pr-4 py-2 flex items-center justify-between w-full md:w-auto">
                                <svg id="avatar" xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 448 512" fill="white">
                                    <path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
                                </svg>
                            </button>
                        </li>
                        <div id="dropdownNavbar" class="hidden text-base z-10 list-none divide-y divide-gray-700 rounded shadow my-4 w-44 bg-gray-300 border-gray-700">
                            <ul class="py-1" aria-labelledby="dropdownLargeButton">
                                <li>
                                    <a class="text-md text-gray-700 hover:bg-gray-100  block px-4 py-2" href="{{ path('default')}}">New O'Rizon</a>
                                </li>
                            </ul>
                            <div class="py-1">
                                <a href="{{ path('app_logout') }}" class="text-md hover:bg-gray-100 text-gray-700 block px-4 py-2">Déconnexion</a>
                            </div>
                        </div>
                    </li>    
                </ul>

                {% else %}
                    <li>
                        <a href="{{ path('cities_list') }}" class="hidden md:block self-center text-xl font-medium whitespace-nowrap text-white ml-auto rounded-md hover:bg-cyan-600 focus:ring-4 focus:ring-sky-300 px-4 py-2">Liste des villes</a>
                    </li>
                    <li>
                        <a href="{{ path('cities_list') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Liste des villes</a>
                    </li>
                    {% if is_granted("IS_AUTHENTICATED_FULLY") %} 
                    <li>
                        <a href="{{ path('favorites') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Mes favoris</a>
                    </li>
                    {% endif %}
                    <li>
                        <a href="{{ path('aboutUs') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Qui sommes-nous ?</a>
                    </li>
                    <li>
                        <a href="{{ path('legal_notices') }}" class="text-white hover:border-4 border-b border-gray-100 md:hover:bg-transparent md:border-0 block pl-3 pr-4 py-2 md:hover:text-white md:p-0 md:hidden">Mentions Légales</a>
                    </li>
                    <li>
                        <!-- Dropdown menu -->
                        <li class="text-white hover:border-4 md:hover:border-0 md:border-0 border-b border-gray-100 md:hover:bg-transparent block md:hover:text-white md:p-0 md:rounded-md md:hover:bg-cyan-600 md:focus:ring-4 md:focus:ring-sky-300">
                            <button id="dropdownNavbarLink" data-dropdown-toggle="dropdownNavbar" class="md:hover:bg-transparent md:border-0 pl-3 pr-4 py-2 flex items-center justify-between w-full md:w-auto">
                                <svg id="avatar" xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 448 512" fill="white">
                                    <path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
                                </svg>
                            </button>
                        </li>
                        <div id="dropdownNavbar" class="hidden text-base z-10 list-none divide-y divide-gray-700 rounded shadow my-4 w-44  bg-gray-300 border-gray-700">
                            <ul class="py-1" aria-labelledby="dropdownLargeButton">
                            {% if is_granted("IS_AUTHENTICATED_FULLY") %} 
                            {% set user = app.user %}
                                <li>
                                    <a href="{{ path('user_show', {'id': user.id}) }}" class="text-md hover:bg-gray-100 text-gray-700 block px-4 py-2">{{ user.firstname }} {{ user.lastname }}</a>
                                </li>
                                <li class="hidden md:block">
                                    <a href="{{ path('favorites') }}" class="text-md hover:bg-gray-100 text-gray-700 block px-4 py-2">Mes favoris</a>
                                </li>
                                {% if is_granted("ROLE_ADMIN") %}
                                <li>
                                    <a class="text-md hover:bg-gray-100 text-gray-700 block px-4 py-2" href="{{ path('app_back_default')}} ">Back-Office</a>
                                </li>
                                {% endif %} 
                            </ul>
                            <div class="py-1">
                                <a href="{{ path('app_logout') }}" class="text-md hover:bg-gray-100 text-gray-700 block px-4 py-2">Déconnexion</a>
                            </div>
                            {% else %}
                                <div class="p-1">
                                    <a href="{{ path('app_login') }}" class="text-md hover:bg-gray-100 text-gray-700 block px-2 py-2">Inscription/Connexion</a>
                                </div>
                            {% endif %}   
                        </div>
                    </li>
                </ul>
                {% endif %}
            </div>
        </div>
    </nav>
</header>